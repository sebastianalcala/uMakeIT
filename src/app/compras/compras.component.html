<div id="fondo"></div>
<div class="bloque" *ngIf="auth.user | async as user">
    <header>
        <div id="dropdown">
          <img src="../../assets/img/logo.png" (click)="menu()" class="logo">
          <a class="dropbtn">
            <img src="{{user.photoURL}}" id="ppic">{{user.name}} &#9776;
            <div class="dropdown-content">
              <a  (click)="menu()" >menu</a>
              <a (click)="compras()">historial  de compras</a>
              <a  (click)="orden()" >carrito: {{user.carrito.monto}} BsS.</a>
              <a (click)="auth.cambiarClave(user);">cambiar clave</a>
              <a (click)="auth.signOut()">salir</a>
            </div>
          </a>
        </div>
        <div class="title"><h1>Historial de Compras</h1></div>
    </header>
    <main>
      <div class="tabla-historial">
        <div class="id">#</div>
        <div class="fecha">date</div>
        <div class="entregado" >estado</div>
        <div class="precio">Precio</div>
        <div class="comprar">Comprar</div>
        <div id="historial" *ngFor="let orden of user.ordenes; let i=index">
          <div class="id">{{000+i}}</div>
          <div class="fecha">{{orden.date}}</div>
          <div class="entregado" *ngIf="orden.entregado">entregado</div>
          <div class="no-entregado" *ngIf="!orden.entregado">en espera</div>
          <div class="precio">{{orden.monto}} BsS.</div>
          <div class="comprar">
            <a (click)="cs.ordenarCompra($event, user, orden)">$</a> 
          </div>
        </div>        
      </div>
    </main>
</div>